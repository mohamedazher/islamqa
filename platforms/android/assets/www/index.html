<!DOCTYPE html>
<!--<html dir="rtl">-->
<html>

<head>
<title>IslamQA.COM</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<meta charset="UTF-8">
<!-- <meta name="viewport" content="width=device-width, user-scalable=no"> -->
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<script src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="cordova.js"></script>
<script src="libs/jquery.animate-enhanced.js"></script>
<script src="libs/iscroll5.js"></script>
<script src="libs/noClickDelay.js"></script>
<script src="js/utilcode.js"></script>
<script src="js/renderCode.js"></script>
<script src="js/dbFunctions.js"></script>
<script src="viewnavigator/viewnavigator.js"></script>
<!--<script type="text/javascript" src="Share/Share.js"></script>-->
<script type="text/javascript" src="js/highlighter.js"></script>
<script type="text/javascript" src="js/handlebars-v1.3.0.js"></script>
<script type="text/javascript" src="js/handlebarHelpers.js"></script>
<script type="text/javascript" src="js/strings-en.js"></script>

<link rel="stylesheet" href="viewnavigator/viewnavigator.css" type="text/css"/>
<link rel="stylesheet" href="libs/css/activityIndicator.css" type="text/css"/>
<link rel="stylesheet" href="css/appStyle.css" type="text/css"/>
<link rel="stylesheet" href="css/android.css" type="text/css"/>
<link rel="stylesheet" href="css/main.css" type="text/css"/>


<style>
    /**
   * Eric Meyer's Reset CSS v2.0 (http://meyerweb.com/eric/tools/css/reset/)
   * http://cssreset.com
   */
    html, body, div, span, applet, object, iframe,
    h1, h2, h3, h4, h5, h6, p, blockquote, pre,
    a, abbr, acronym, address, big, cite, code,
    del, dfn, em, img, ins, kbd, q, s, samp,
    small, strike, strong, sub, sup, tt, var,
    b, u, i, center,
    dl, dt, dd, ol, ul, li,
    fieldset, form, label, legend,
    table, caption, tbody, tfoot, thead, tr, th, td,
    article, aside, canvas, details, embed,
    figure, figcaption, footer, header, hgroup,
    menu, nav, output, ruby, section, summary,
    time, mark, audio, video {
        margin: 0;
        padding: 0;
        /*border: 0;*/
        /*font-size: 100%;*/
        /*font: inherit;*/
        vertical-align: baseline;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0); /** Disable orange highlight */
    }


</style>
<script>


    $(document)
            .ready(function () {
                document.addEventListener("deviceready", systemReady, true);

            });

    var loadFailCounter = 0;

    var db;
    var platform;
    var adapter;
    var favQuestions = new Array();
    var upgrade = '';
    var content, columns, compiledCardTemplate = undefined;
    var MIN_COL_WIDTH = 300;
    var cardData ='';
    var cardDataLength =9;
    var carDataCats;

    function systemReady() {
        platform = 'Android';
        adapter = new WebSqlAdapter();
        adapter.initialize();
        // platform = devicePlatform();


        if (platform == 'Android') {
            document.addEventListener("click", onClickCall, true);
            document.addEventListener("touchend", onClickCallTouch, true);
            document.addEventListener("menubutton", menuKeyDown, true);
            document.addEventListener("backbutton", backButton, true);

        }
        document.addEventListener("online", onOnline, false);
        document.addEventListener("offline", onOffline, false);
        //upgrade = getStorageItem('upgrade');
        upgrade = getStorageItem('upgrade3');

        //upgrade=true;
        rootView = {
            title: "Better Islam Q&A",
            view: $("<div id='rootView' ><div class='activityIndicator'></div></div>"),
            tabs: "Y",
            category: "%",
            colour:'f5f5f5'
        };


        if (upgrade != "false") {
            console.log("DATA CLEARED");
            var rateApp = getStorageItem('rateApp');
            var questionsLoaded = getStorageItem('questionsLoaded');
            var answers1Loaded = getStorageItem('answers1Loaded');
            var syncId = getStorageItem('syncId');
            var syncId = 2;
            window.localStorage.clear();
            setStorageItem('rateApp', rateApp);
            setStorageItem('questionsLoaded', questionsLoaded);
            setStorageItem('answers1Loaded', answers1Loaded);
            if (syncId == '' || syncId == undefined || syncId == null) {
                //SET APP VERSION HERE WHILE LAUNCH
                setStorageItem('syncId', 2);
            }
            else {
                setStorageItem('syncId', syncId);
            }
            renderImportDatabase();
        } else {

//        renderCategories();
            renderCards();
            //Getting all question numbers to check if in fav
            refreshFavourites();
        }

        window.RightViewNavigator = new ViewNavigator('#body', 'header', null, null);
        window.RightViewNavigator.pushView(rootView);
        window.RightViewNavigator.resetScroller();
    }
    var menuState = "closed";

</script>

<script id="importDBTemplatev23" type="template/handlebars">
    <div id='ansDiv'>
        <div class='boxCover'>
            <strong>Import Wizard:</strong>

            <p class='boxInner'>This wizard will help you import the Questions and Answers database into your phone.</p>

            <p><strong>Note:</strong> During import your phone may appear to hang. This is normal and your phone would
                resume once the import is done.</p>

            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 1: Load Questions</strong>
            </p>
            <button id='ltButton1' class='button button-small button-blue block'
                    ontouchend="$('#alert1').addClass('in')">Import Questions
            </button>
            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 2: Load Answers Part 1</strong>
            </p>
            <button id='ltButton2' class='button button-small button-blue block'
                    ontouchend="$('#alert2').addClass('in')" disabled>Import Answers 1
            </button>
            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 3: Load Answers Part 2</strong>
            </p>
            <button id='ltButton3' class='button button-small button-blue block'
                    ontouchend="$('#alert3').addClass('in')" disabled>Import Answers 2
            </button>
            <p>&nbsp;</p>
        </div>
    </div>

</script>

<script id="importDBTemplatev403" type="template/handlebars">
    <div id='ansDiv'>
        <div class='boxCover'>
            <strong>Import Wizard:</strong>

            <p class='boxInner'>This wizard will help you import the Questions and Answers database into your phone.</p>

            <p><strong>Note:</strong> During import your phone may appear to hang. This is normal and your phone would
                resume once the import is done.</p>

            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 1: Load Questions</strong>
            </p>
            <button id='lcButton1' class='button button-small button-blue block' onclick="$('#alert1').addClass('in')">
                Import Questions
            </button>
            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 2: Load Answers Part 1</strong>
            </p>
            <button id='lcButton2' class='button button-small button-blue block' onclick="$('#alert2').addClass('in')"
                    disabled>Import Answers 1
            </button>
            <p>&nbsp;</p>

            <p style='text-align:center;'>
                <strong>Step 3: Load Answers Part 2</strong>
            </p>
            <button id='lcButton3' class='button button-small button-blue block' onclick="$('#alert3').addClass('in')"
                    disabled>Import Answers 2
            </button>
            <p>&nbsp;</p>
        </div>
    </div>
</script>

<!-- This is the questions template used in shuffle and not when you click category, that is renderCatList -->
<script id="qListTemplate" type="template/handlebars">
    <div id='listDiv2'>
        <ul class='list list-contacts'>
            <li class='list-contacts-title'>Questions</li>
            {{#qList results}}{{/qList}}
        </ul>
    </div>
</script>
<script id="categoriesTemplate" type="template/handlebars">
    <div id='listDiv2'>
        <ul class='list list-messages'>
            {{#catList results}}{{/catList}}
        </ul>
    </div>
</script>

<script id="subCateTemplate" type="template/handlebars">
    <div id='listDiv2'>
        <ul class='list list-contacts'>
            <li class='list-contacts-title'>Sub-Categories</li>

            {{#subcatList results}}{{/subcatList}}
        </ul>

</script>

<script id="subCateQuestTemplate" type="template/handlebars">
    <ul class='list list-contacts'>
        <li class='list-contacts-title'>Questions</li>
        {{#qList results}}{{/qList}}
    </ul>
</script>

<script id="foldersTemplate" type="template/handlebars">
    <div id='listDiv2'>
        <ul class='list list-boxed'>
            {{#folderList results}}{{/folderList}}
        </ul>
    </div>
</script>

<script id="answersTemplate" type="template/handlebars">
    <div id='ansDiv' style='-webkit-user-select: text !important;'>
        <div class='boxCover'>

            {{#answersList results}}{{/answersList}}
        </div>
</script>
<script id="settingsTemplate" type="template/handlebars">
    <div id='ansDiv'>
        <div class='boxCover'><strong>Total Database Size</strong>
            <p class='boxInner'>
                {{#settingsPage results}}{{/settingsPage}}
            </p>
        </div>
    </div>
</script>

<script id="aboutTemplate" type="template/handlebars">
    <div id='ansDiv'>
        <div class='boxCover'><strong>Introduction</strong>
            <p class='boxInner'>

                Welcome to Islam Question & Answer! This site aims to provide intelligent, authoritative responses to
                anyones question about Islam, whether it be from a Muslim or a non-Muslim, and to help solve general and
                personal social problems. Responses are composed by Sheikh Muhammed Salih Al-Munajjid, a known Islamic
                lecturer and author. Questions about any topic are welcome, such as theology, worship, human and
                business relations, or social and personal issues.

            <p>All questions and answers have been prepared, approved, revised, edited, amended or annotated by Shaykh
                Muhammad Saalih al-Munajjid, the supervisor of this site.</p>

            <p>With the spread of Islam world-wide walillah il-hamd and its diffusion into the internet, some sites have
                been published claiming to serve Muslims and to speak in the name of Islam. However, not all of these
                sites, which discuss issues relevant to Islam, present accurate and reliable information based on the
                true beliefs and practices of the Prophet (peace & blessings of Allaah be upon him) and his companions.
                Thus, there is a need to increase the number of sites providing resources based on these authentic
                teachings. It is hoped that this site will be among them. The objectives of Islam Q&A include:</p>

            <p>&nbsp;</p>

            <p>
            <ul style='list-style:disc !important;margin-left: 20px;'>
                <li>To teach and familiarize Muslims with various aspects of their religion</li>
                <li>To be a source for guiding people to Islam</li>
                <li>To respond to users questions and inquiries to the best of our resources and capabilities</li>
                <li>To assist in solving the social and personal problems of the Muslims in an Islamic context</li>
            </ul>
            </p>
            <p>It was decided to make the site all-encompassing, directed towards Muslims and non-Muslims alike. Subject
                areas include, but are not limited to, Islamic fiqh and jurisprudence, Islamic history, Islamic social
                laws (including marriage, divorce, contracts, and inheritance), Islamic finance, basic tenets and
                aqeedah of the Islamic faith and tawheed, and Arabic grammar as it relates to the Quran and Islamic
                texts.</p>

            <p>The responses are handled by Sheikh Muhammad Salih al-Munajjid, using only authentic, scholarly sources
                based on the Quran and sunnah, and other reliable contemporary scholarly opinions. References are
                provided where appropriate in the responses. All requests are held with confidence, and replies are
                available personally and/or publicly (posted to this site).</p>

            <p>A database organized by subject areas, containing common as well as previously asked questions, is
                available for exploring, either by browsing the entire contents or specific subject areas, or by
                searching for specific keywords.</p>

            <p>This app is brought to you by Dawah Desk.<p>
            <p><strong>About Dawah Desk:</strong></p><p>Dawah Office For Every Da'ee</p><p><h2>Mission:</h2></p><p></p>Da'wah desk is a website aimed at building virtual Da'wah office for every Da'ee around the globe right from the speaker down to anyone who wants to do some Da'wah bi-ithnillaah. In addition to this, it has been envisioned to make it as an open Da'wah source for all the Da'ees</p>
            <p>Visit us at <a href="http://www.dawahdesk.com">www.DawahDesk.com</a></p></p>
        </div></div>
    </div>

</script>
<script id="cardTemplate" type="template/handlebars">
    <div class="card boxCover">
        {{#cardsLayout results}}{{/cardsLayout}}
    </div>
</script>
</head>

<body ontouchstart="">
<div class="alert" id="alert1">
    <!-- The top margin must be set to 50% of the alert's height using JavaScript. -->
    <div class="alert-content" style="margin-top: -85px;">
        <h3>Importing Questions</h3>

        <p>This could take a few minutes.</p>

        <p><strong id='progUpdateQ'></strong></p>

        <div class="progress" id="progressQ"><span class="blue" style="width: 1%"><span>0%</span></span></div>
        <!--<input type="text" class="alert-text-input" placeholder="password">-->
        <div class="alert-buttons" id="alertBt1">
            <a href="#" class="alert-button right primary" onclick="createDB()">Start</a>
            <a href="#" class="alert-button left" onclick="cancelAlert();">Cancel</a>
        </div>
    </div>
</div>
<div class="alert" id="alert2">
    <div class="alert-content" style="margin-top: -85px;">
        <h3>Importing Answers Part 1</h3>

        <p>This could take a few minutes.</p>

        <p><strong id='progUpdateA1'></strong></p>

        <div class="progress" id="progressA1"><span class="blue" style="width: 1%"><span>0%</span></span></div>
        <!--<input type="text" class="alert-text-input" placeholder="password">-->
        <div class="alert-buttons" id="alertBt2">
            <a href="#" class="alert-button right primary" onclick="loadAnsw(1)">Start</a>
            <a href="#" class="alert-button left" onclick="cancelAlert();">Cancel</a>
        </div>
    </div>
</div>
<div class="alert" id="alert3">
    <div class="alert-content" style="margin-top: -85px;">
        <h3>Importing Answers Part 2</h3>

        <p>This could take a few minutes.</p>

        <p><strong id='progUpdateA2'></strong></p>

        <div class="progress" id="progressA2"><span class="blue" style="width: 1%"><span>0%</span></span></div>
        <!--<input type="text" class="alert-text-input" placeholder="password">-->
        <div class="alert-buttons" id="alertBt3">
            <a href="#" class="alert-button right primary" onclick="loadAnsw(2)">Start</a>
            <a href="#" class="alert-button left" onclick="cancelAlert();">Cancel</a>
        </div>
    </div>
</div>

<div class="alert" id="searchAlert">
    <!-- The top margin must be set to 50% of the alert's height using JavaScript. -->

    <div class="alert-content" style="margin-top: -85px;">
        <h3>Search IslamQA</h3>

        <p>Enter your search term:</p>

        <form action="#" onsubmit="return doSearchNow();">
            <input type="text" class="alert-text-input" placeholder="Search..." id="searchPut"></form>
        <div class="alert-buttons">
            <a href="#" class="alert-button right primary" onclick="doSearchNow();">Search</a>
            <a href="#" class="alert-button left" onclick="cancelAlert();">Cancel</a>
        </div>
    </div>

</div>

<div class="alert" id="updateAlert">
    <div class="alert-content" style="margin-top: -85px;">
        <h3>Press Start to Check for Update</h3>

        <p>This could take a few minutes.</p>

        <p><strong id='progUpdateU1'></strong></p>

        <div class="progress" id="progressU1"><span id="prog" class="blue" style="width: 1%"><span>0%</span></span>
        </div>
        <!--<input type="text" class="alert-text-input" placeholder="password">-->
        <div class="alert-buttons" id="alertBt4">
            <a href="#" class="alert-button right primary" onclick="checkForUpdate()">Start</a>
            <a href="#" class="alert-button left" onclick="cancelAlert();">Cancel</a>
        </div>
    </div>
</div>

<div class="alert" id="folderForm">
    <div class="alert-content" style="margin-top: -145px;">
        <h3>Add To Folder</h3>

        <form style="margin: 0 -15px;background-color: #ffffff">
            <h2 class="form-title-row">Select Existing Folder</h2>
            <fieldset style="margin: 0 15px;">
                <label class="form-row form-select-row" id="selectFolderLabel">
                    <select class="form-select-input" id="folderSelect">
                        <option selected="" value="na">Select Folder</option>
                    </select>
                </label>
            </fieldset>
            <div class="centerDiv"><h3 class="title-bold">OR</h3></div>
            <h2 class="form-title-row">Create New Folder</h2>
            <fieldset style="margin: 0 15px;">
                <label class="form-row form-text-row" id="folderNameLabel">
                    <!-- Note: there must be no whitespace between the <span> and the <input>. -->
                    <span class="form-text-label" id="newFolderNameLabel">Name:</span><input type="text"
                                                                                             class="form-text-input"
                                                                                             value=""
                                                                                             id="newFolderName">
                    <!-- If you want the label to be black, use: <span class="form-text-label form-text-label-black"> -->
                    <!-- If you want the label to be fixed-width, use: <span class="form-text-label width-20 (or 30, 40, 50)"> -->
                </label>
                <label class="form-row form-select-row" id="newFolderColourLabel">
                    <select class="form-select-input" id="newFolderColour">
                        <option selected="" value="" id="newFolderColourSelect">Select Colour</option>
                        <option value="blue">Blue</option>
                        <option value="green">Green</option>
                        <option value="red">Red</option>
                        <option value="yellow">Yellow</option>
                        <option value="orange">Orange</option>
                        <option value="pink">Pink</option>
                        <option value="violet">Violet</option>
                        <option value="brown">Brown</option>
                        <option value="turquoise">Turquoise</option>
                    </select>
                </label>
            </fieldset>
            <input type="hidden" id="questionId" value="">
        </form>
        <!--<input type="text" class="alert-text-input" placeholder="password">-->
        <div class="alert-buttons" id="alertBt5">
            <a href="#" class="alert-button right primary" onclick="saveToFolder()">Add</a>
            <a href="#" class="alert-button left" onclick="resetHideAddToFolder();">Cancel</a>
        </div>
    </div>
</div>

<div id="loading" style="display:none;">
    <img id="loading-image" src="img/ajax-loader.gif" alt="Loading..."/>
</div>
<div class="slidingview_wrapper">
    <div id="sidebar"></div>
    <div id="bg">
        <div id="body"></div>
    </div>
</div>
</body>
<script>systemReady();
</script>
</html>