import{r as x,v as B,e as a,l as e,i,t as c,F as C,m as S,D as Q,o as n}from"./vendor-goXqKlOD.js";import{a as I,u as z,_ as d}from"./index-C2EJApSe.js";const N={class:"bookmarks-view h-full flex flex-col bg-neutral-50 dark:bg-neutral-950"},j={class:"bg-gradient-to-r from-primary-600 to-primary-800 dark:from-primary-700 dark:to-primary-900 text-white p-3 sm:p-4 shadow flex items-center"},F={class:"flex-1"},L={class:"flex items-center gap-2"},V={class:"text-primary-100 text-sm"},$={class:"flex-1 overflow-y-auto p-4"},D={key:0,class:"flex items-center justify-center h-32"},A={key:1},E={class:"mb-4"},J={class:"flex items-center justify-between"},M={class:"flex items-center gap-2"},O={class:"grid grid-cols-1 gap-3"},P={class:"flex items-start justify-between"},R=["onClick"],T={class:"font-semibold text-neutral-900 dark:text-neutral-100 mb-2 line-clamp-2"},G={class:"text-sm text-neutral-600 dark:text-neutral-400 mb-2 line-clamp-1"},H={class:"text-xs text-primary-600 dark:text-primary-400 font-medium"},K=["onClick"],U={key:2,class:"text-center py-12"},W={class:"flex justify-center mb-4"},X={__name:"FoldersView",setup(Y){const m=Q(),v=z(),r=x([]),l=x([]),u=x(!0);function p(){const s=localStorage.getItem("bookmarks");s&&(r.value=JSON.parse(s))}async function k(){try{u.value=!0;const s=await Promise.all(r.value.map(t=>v.getQuestion(t)));l.value=s.filter(t=>t!=null)}catch(s){console.error("Error loading bookmarked questions:",s),l.value=[]}finally{u.value=!1}}function f(){localStorage.setItem("bookmarks",JSON.stringify(r.value)),localStorage.setItem("bookmarkCount",r.value.length.toString())}async function b(s){r.value=r.value.filter(t=>t!==parseInt(s)),f(),await k()}async function h(){confirm("Are you sure you want to clear all bookmarks?")&&(r.value=[],f(),await k())}function _(s){m.push(`/question/${s.reference}`)}function y(){m.back()}function g(){m.push("/browse")}return B(async()=>{p(),await k(),console.log("ðŸ”– Bookmarks view loaded with",r.value.length,"bookmarks")}),(s,t)=>(n(),a("div",N,[e("header",j,[e("button",{onClick:y,class:"mr-2 sm:mr-3 hover:opacity-80 transition-opacity"},[i(d,{name:"arrowLeft",size:"sm"})]),e("div",F,[e("div",L,[i(d,{name:"bookmark",size:"md"}),t[0]||(t[0]=e("h1",{class:"text-base sm:text-lg font-bold"},"My Bookmarks",-1))]),e("p",V,c(l.value.length)+" bookmarks",1)])]),e("div",$,[u.value?(n(),a("div",D,[...t[1]||(t[1]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 dark:border-primary-400 mx-auto"}),e("p",{class:"mt-4 text-neutral-600 dark:text-neutral-400"},"Loading bookmarks...")],-1)])])):l.value.length>0?(n(),a("div",A,[e("div",E,[e("div",J,[e("div",M,[i(d,{name:"bookmark",size:"md",class:"text-primary-600 dark:text-primary-400"}),t[2]||(t[2]=e("h2",{class:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"Bookmarked Questions",-1))]),e("button",{onClick:h,class:"text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium"}," Clear all ")])]),e("div",O,[(n(!0),a(C,null,S(l.value,o=>(n(),a("div",{key:o.reference,class:"bg-white dark:bg-neutral-900 rounded-lg shadow dark:shadow-neutral-800/50 p-4"},[e("div",P,[e("div",{onClick:w=>_(o),class:"flex-1 cursor-pointer hover:text-primary-600 dark:hover:text-primary-400 transition"},[e("h4",T,c(o.title),1),e("p",G,c(o.title),1),e("span",H,"Q#"+c(o.reference),1)],8,R),e("button",{onClick:w=>b(o.reference),class:"ml-3 hover:text-red-600 dark:hover:text-red-400 transition"},[i(d,{name:"xCircle",size:"md",class:"text-neutral-400 dark:text-neutral-500 hover:text-red-600 dark:hover:text-red-400"})],8,K)])]))),128))])])):(n(),a("div",U,[e("div",W,[i(d,{name:"bookmark",size:"xl",class:"text-neutral-300 dark:text-neutral-700 w-16 h-16"})]),t[3]||(t[3]=e("h3",{class:"text-base sm:text-lg font-semibold text-neutral-900 dark:text-neutral-100 mb-2"},"No bookmarks yet",-1)),t[4]||(t[4]=e("p",{class:"text-neutral-600 dark:text-neutral-400 mb-6"},"Start bookmarking questions to save them for later",-1)),e("button",{onClick:g,class:"bg-primary-600 dark:bg-primary-700 text-white px-6 py-2 rounded-lg font-medium hover:bg-primary-700 dark:hover:bg-primary-600 transition"}," Browse Questions ")]))])]))}},ee=I(X,[["__scopeId","data-v-65096b72"]]);export{ee as default};
