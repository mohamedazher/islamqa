function c(){return typeof window.cordova<"u"}async function u(e){const t=`Islamic Q&A: ${e.title||e.question||e.questionText}`,r=e.answer?d(e.answer).substring(0,200):"",n=r?`Q: ${e.title||e.question||e.questionText}

A: ${r}...`:`Q: ${e.title||e.question||e.questionText}`,o=`https://islamqa.info/${e.reference||e.question_no||e.id}`;return s({title:t,text:n,url:o})}async function p(){return s({title:"BetterIslam Q&A",text:"Discover authentic Islamic knowledge with BetterIslam Q&A - Thousands of questions answered by scholars, offline access, quizzes & more!",url:"https://play.google.com/store/apps/details?id=com.dkurve.betterislamqa"})}async function s({title:e,text:t,url:r}){try{if(c()&&window.plugins&&window.plugins.socialsharing)return new Promise((o,i)=>{window.plugins.socialsharing.shareWithOptions({message:t,subject:e,url:r},a=>{console.log("Share completed:",a),o({success:!0,platform:"cordova"})},a=>{console.error("Share failed:",a),i(new Error("Share failed"))})});if(navigator.share)return await navigator.share({title:e,text:t,url:r}),{success:!0,platform:"web"};const n=`${e}

${t}

${r}`;return await l(n),{success:!0,platform:"clipboard",message:"Copied to clipboard!"}}catch(n){if(n.name==="AbortError")return{success:!1,cancelled:!0};throw n}}async function l(e){if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}}function d(e){const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}export{p as a,u as s};
